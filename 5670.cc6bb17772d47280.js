"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5670],{5670:(O,l,i)=>{i.r(l),i.d(l,{CategoryEditPageModule:()=>v});var d=i(6814),s=i(95),n=i(9810),g=i(1837),m=i(6306),h=i(8504),t=i(9212),p=i(2333),y=i(3245);function f(e,a){if(1&e&&(t.TgZ(0,"ion-text",9)(1,"p",10),t._uU(2),t.qZA()()),2&e){const u=t.oxw();t.xp6(2),t.hij("*",u.errorMessage,"")}}const C=[{path:"",component:(()=>{var e;class a{constructor(r,o,c,b,M){this.formBuilder=r,this.getToken=o,this.categoriesService=c,this.route=b,this.router=M,this.messageAlert="",this.isAlertOpen=!1,this.alertButtons=[{cssClass:"alert-button-confirm",text:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",handler:()=>{this.router.navigate([""]).then(A=>{this.router.navigate(["myRecipes"])})}}]}ngOnInit(){this.categoryForm=this.formBuilder.group({category_id:Number,title:["",s.kI.required],user_token:String}),this.token=this.getToken.getLogin(),this.item=this.route.snapshot.paramMap.get("item"),this.categoriesService.getCategory(this.item).subscribe(r=>{var o;this.categoryName=r,null===(o=this.categoryForm.get("title"))||void 0===o||o.setValue(this.categoryName.category_name)})}onSubmit(){var r;this.categoryForm.valid?(this.categoryForm.patchValue({user_token:JSON.parse(this.token)}),null===(r=this.categoryForm.get("category_id"))||void 0===r||r.setValue(this.item),this.categoriesService.uptadeCategory(this.categoryForm.value).pipe((0,m.K)(o=>(404===o.status&&(this.messageAlert="\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f \u0437 \u0442\u0430\u043a\u043e\u044e \u043d\u0430\u0437\u0432\u043e\u044e \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454!",this.setOpen(!0)),(0,h._)(o)))).subscribe(o=>{console.log(o)}),this.messageAlert="\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e \u0440\u0435\u0434\u0430\u0433\u043e\u0432\u0430\u043d\u043e",this.setOpen(!0)):this.errorMessage="\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u0437 \u043d\u0430\u0437\u0432\u043e\u044e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457!"}onInputFocus(){this.errorMessage=""}setOpen(r){this.isAlertOpen=r}}return(e=a).\u0275fac=function(r){return new(r||e)(t.Y36(s.qu),t.Y36(p.e),t.Y36(y.G),t.Y36(g.gz),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-edit"]],decls:15,vars:7,consts:[[3,"translucent"],["slot","start"],["text","","defaultHref","/myRecipes"],[3,"formGroup"],["lines","none",1,"ion-margin","ion-padding","ion-text-center"],["formControlName","title","type","text","fill","solid","label","\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043d\u0430\u0437\u0432\u0443 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457","labelPlacement","floating",3,"clearInput","ionFocus"],["shape","round",3,"click"],["class","another-error","color","danger",4,"ngIf"],["subHeader","","message","",1,"alert",3,"isOpen","header","buttons","didDismiss"],["color","danger",1,"another-error"],[1,"error"]],template:function(r,o){1&r&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e "),t.qZA(),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button",2),t.qZA()()(),t.TgZ(6,"ion-content")(7,"form",3)(8,"ion-list",4)(9,"ion-item")(10,"ion-input",5),t.NdJ("ionFocus",function(){return o.onInputFocus()}),t.qZA()(),t.TgZ(11,"ion-button",6),t.NdJ("click",function(){return o.onSubmit()}),t._uU(12,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),t.qZA(),t.YNc(13,f,3,1,"ion-text",7),t.qZA(),t.TgZ(14,"ion-alert",8),t.NdJ("didDismiss",function(){return o.setOpen(!1)}),t.qZA()()()),2&r&&(t.Q6J("translucent",!0),t.xp6(7),t.Q6J("formGroup",o.categoryForm),t.xp6(3),t.Q6J("clearInput",!0),t.xp6(3),t.Q6J("ngIf",o.errorMessage),t.xp6(),t.s9C("header",o.messageAlert),t.Q6J("isOpen",o.isAlertOpen)("buttons",o.alertButtons))},dependencies:[d.O5,s._Y,s.JJ,s.JL,s.sg,s.u,n.Ge,n.YG,n.Sm,n.W2,n.Gu,n.pK,n.Ie,n.q_,n.yW,n.wd,n.sr,n.j9,n.oU],styles:["ion-title[_ngcontent-%COMP%], ion-back-button[_ngcontent-%COMP%]{color:#333}ion-title[_ngcontent-%COMP%]{font-size:20px}ion-item[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-medium);margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{min-height:100px}ion-item[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--checkbox-background-checked: rgb(120, 156, 21);--border-color-checked: rgb(120, 156, 21)}ion-button[_ngcontent-%COMP%]{margin-top:50px;--background: rgb(50, 65, 27);margin-bottom:20px}.another-error[_ngcontent-%COMP%]{text-align:center}"]}),a})()}];let P=(()=>{var e;class a{}return(e=a).\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(C),g.Bz]}),a})(),v=(()=>{var e;class a{}return(e=a).\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,s.u5,s.UX,n.Pc,P]}),a})()}}]);