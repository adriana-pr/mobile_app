"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[141],{141:(R,g,s)=>{s.r(g),s.d(g,{CreateRecipePageModule:()=>b});var l=s(6814),n=s(95),o=s(9810),p=s(1837),e=s(9212),m=s(2333),d=s(3245),h=s(6955);function f(t,r){if(1&t&&(e.TgZ(0,"ion-select-option",15),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.Q6J("value",a.category_id),e.xp6(),e.hij(" ",a.category_name," ")}}function _(t,r){if(1&t&&(e.TgZ(0,"ion-text",16)(1,"p",17),e._uU(2),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.hij("*",a.errorMessage,"")}}const C=[{path:"",component:(()=>{var t;class r{constructor(u,i,c,P,v){this.formBuilder=u,this.getToken=i,this.categoriesService=c,this.recipesService=P,this.router=v,this.isAlertOpen=!1,this.alertButtons=[{cssClass:"alert-button-confirm",text:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}]}ngOnInit(){this.recipeForm=this.formBuilder.group({title:["",n.kI.required],photo:["",n.kI.required],category:["",n.kI.required],ingredients:["",n.kI.required],preparation:["",n.kI.required],show_to_others:[0],user_token:String}),this.token=this.getToken.getLogin(),null==this.categoriesService.getCategoriesFromLocalStorage()?this.categoriesService.getCategories(this.token).subscribe(u=>{this.categories=u,this.categories&&0!==this.categories.length&&this.categoriesService.setCategories(this.categories)}):this.categories=this.categoriesService.getCategoriesFromLocalStorage()}onSubmit(){this.recipeForm.valid?(this.recipeForm.patchValue({user_token:JSON.parse(this.token)}),this.recipesService.insertRecipe(this.recipeForm.value).subscribe(u=>{console.log(u)}),this.recipeForm.reset(),this.setOpen(!0)):this.errorMessage="\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0432\u0441\u0456 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u0438!"}onInputFocus(){this.errorMessage=""}setOpen(u){this.isAlertOpen=u}reload(){this.router.navigate([""]).then(u=>{this.router.navigate(["myRecipes"])})}}return(t=r).\u0275fac=function(u){return new(u||t)(e.Y36(n.qu),e.Y36(m.e),e.Y36(d.G),e.Y36(h.v),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create-recipe"]],decls:28,vars:8,consts:[[3,"translucent"],["slot","start"],["text","",3,"click"],[3,"formGroup"],["lines","none",1,"ion-margin","ion-padding","ion-text-center"],["formControlName","title","type","text","fill","solid","label","\u041d\u0430\u0437\u0432\u0430 \u0441\u0442\u0440\u0430\u0432\u0438","labelPlacement","floating",3,"clearInput","ionFocus"],["formControlName","photo","type","text","fill","solid","label","\u0424\u043e\u0442\u043e \u0441\u0442\u0440\u0430\u0432\u0438","labelPlacement","floating",3,"clearInput","ionFocus"],["formControlName","category","justify","space-between","label","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f","placeholder","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f","interface","popover",3,"ionFocus"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ingredients","label","\u0406\u043d\u0433\u0440\u0435\u0434\u0456\u0454\u043d\u0442\u0438","labelPlacement","floating","placeholder","\u0406\u043d\u0433\u0440\u0435\u0434\u0456\u0454\u043d\u0442\u0438",3,"ionFocus"],["formControlName","preparation","label","\u041f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f","labelPlacement","floating","placeholder","\u041f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f",3,"ionFocus"],["slot","end","label","\u041c\u0456\u0442\u043a\u0430","legacy","","formControlName","show_to_others"],["shape","round",3,"click"],["class","another-error","color","danger",4,"ngIf"],["header","\u0420\u0435\u0446\u0435\u043f\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e","subHeader","","message","",1,"alert",3,"isOpen","buttons","didDismiss"],[3,"value"],["color","danger",1,"another-error"],[1,"error"]],template:function(u,i){1&u&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," \u041d\u043e\u0432\u0438\u0439 \u0440\u0435\u0446\u0435\u043f\u0442 "),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-back-button",2),e.NdJ("click",function(){return i.reload()}),e.qZA()()()(),e.TgZ(6,"ion-content")(7,"form",3)(8,"ion-list",4)(9,"ion-item")(10,"ion-input",5),e.NdJ("ionFocus",function(){return i.onInputFocus()}),e.qZA()(),e.TgZ(11,"ion-item")(12,"ion-input",6),e.NdJ("ionFocus",function(){return i.onInputFocus()}),e.qZA()(),e.TgZ(13,"ion-item")(14,"ion-select",7),e.NdJ("ionFocus",function(){return i.onInputFocus()}),e.YNc(15,f,2,2,"ion-select-option",8),e.qZA()(),e.TgZ(16,"ion-item")(17,"ion-textarea",9),e.NdJ("ionFocus",function(){return i.onInputFocus()}),e.qZA()(),e.TgZ(18,"ion-item")(19,"ion-textarea",10),e.NdJ("ionFocus",function(){return i.onInputFocus()}),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-label"),e._uU(22,"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0456\u043d\u0448\u0438\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\u043c"),e.qZA(),e._UZ(23,"ion-checkbox",11),e.qZA(),e.TgZ(24,"ion-button",12),e.NdJ("click",function(){return i.onSubmit()}),e._uU(25,"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0440\u0435\u0446\u0435\u043f\u0442"),e.qZA(),e.YNc(26,_,3,1,"ion-text",13),e.qZA(),e.TgZ(27,"ion-alert",14),e.NdJ("didDismiss",function(){return i.setOpen(!1)}),e.qZA()()()),2&u&&(e.Q6J("translucent",!0),e.xp6(7),e.Q6J("formGroup",i.recipeForm),e.xp6(3),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(3),e.Q6J("ngForOf",i.categories),e.xp6(11),e.Q6J("ngIf",i.errorMessage),e.xp6(),e.Q6J("isOpen",i.isAlertOpen)("buttons",i.alertButtons))},dependencies:[l.sg,l.O5,n._Y,n.JJ,n.JL,n.sg,n.u,o.Ge,o.YG,o.Sm,o.nz,o.W2,o.Gu,o.pK,o.Ie,o.Q$,o.q_,o.t9,o.n0,o.yW,o.g2,o.wd,o.sr,o.w,o.QI,o.j9,o.oU],styles:["ion-title[_ngcontent-%COMP%], ion-back-button[_ngcontent-%COMP%]{color:#333}ion-title[_ngcontent-%COMP%]{font-size:20px}ion-item[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-medium);margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{min-height:100px}ion-item[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--checkbox-background-checked: rgb(120, 156, 21);--border-color-checked: rgb(120, 156, 21)}ion-button[_ngcontent-%COMP%]{margin-top:20px;--background: rgb(50, 65, 27);margin-bottom:20px}"]}),r})()}];let F=(()=>{var t;class r{}return(t=r).\u0275fac=function(u){return new(u||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(C),p.Bz]}),r})(),b=(()=>{var t;class r{}return(t=r).\u0275fac=function(u){return new(u||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,n.u5,n.UX,o.Pc,F]}),r})()}}]);